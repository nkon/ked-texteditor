

### c480b785ea391faab3abbecc93670481e33ea59a

* `cargo init --bin` でプロジェクトを初期化した。

### 6a7eb5dd24b4da8fe8d846da5725b393ed2865ed

* 画面制御の方法について、いろいろ調べた結果termionを使うことにした。練習のために、手書きでエスケープシーケンスを出力してもいいが、ここは効率化のためにライブラリを使ってもいいと考えた。依存関係が少ないpure rustで、高速と評判のtermionにした。termionはわりと制御コードと一対一に対応しているので、隠蔽感が無く、勉強としても適していると思う。
* termionの練習問題を入力して、raw modeでの文字入力、エスケースシーケンスを使った画面描画ができることを確認した。

### c72d8108bf393a1b9ba1a5f4509b0afee2c0039e

* オプションを解析してファイルを表示できるようにする。
* オプションパーサとしては、単機能だが`getopts`を採用。たぶん、これで事足りると思う。
* ファイル名を引数として起動されると、ファイルを表示するようにした。
* Ctrl-cで終了。


### 0752c9c702d3f1a16ba2525721c5039483b06d5d

* 端末のサイズを取得して、（縦方向は）その範囲のみ描画するようにした。
* ついでに、ファイルの読み込みと描画の関数を分けた。

### aa30a136190b01b1d84711dd9cf72383c75f0776

* さらにウィンドウへの描画の関数を分離した。
* 早速、借用チェッカにいろいろ怒られた。

### 7b52809d4475bef53497315c673171d15a6726ff

* 上下の矢印キーで画面がスクロールできるようにした。
* バッファーの行数を数えて、オーバーランするスクロールはしないようにした。このへん、自動で出来ないのはCっぽい。
* こまめにrustfmtをかけておかなければ、フォーマットの修正もまとめてコミットされると見にくい。

### 428b0c69b140faced2a051cfe491fd8743cdd8fc

* AlternateScreenを使うようにした。終了時に、元の画面が復元される。
* スクロールキーを、↑↓からPageUp/PageDownにした。矢印キーをカーソル移動にしたかったため。
* ウィンドウの右で折り返さないようにした（単に表示しない）。

### 4aafe3469abbc337b274a606f34becf70bea8e51

* 矢印キーでカーソルが動くようにした。
* オーバーランの対策は未。

### c948ae03f530334b54dedf7496d12dc2a444baed

* Screen, Window, EditBufferの構造体を導入。ただし、型や借用はむちゃくちゃ。なんとかコンパイラエラーにならず、動くようになっただけ。
* 続けて、リファクタリングも実施。
* 少しずつ、エラー処理や、カーソルの移動制限（ありえないカーソル位置に行かない）を導入。
* 無理に引数にすると借用で混乱するので、メンバーにできるところはメンバー関数にしたほうがいい。

### d6e1c7e7364c4635a26304f10bec799d8250491d

* 編集の第一歩、簡単な文字の置換を実装した。
* 文字列操作が効率的ではない。エラーチェックも未。
* 配列を使うとRustでもランタイムエラーが頻発する。範囲チェックをきちんと行う。

### e340570bb206f9708641ae232efbdb49c7c91dd2

* 文字の挿入を実装した。

### 292039a6317941ccee49ed5333bafed605b6611e

* カーソルが端に来た時は自動でスクロールするようにした。
* 境界条件に関するバグをいくつか修正。

### 1a2f9ea8b86261ac392884659c84a48b011e5320

* 改行の挿入。まずは行の途中への挿入のみ。
* 次に、空行への空行の挿入。
* さらに、行末尾への空行の挿入（次行を追加）の実装。

### a229e16ba1bd22bf9609c2b2091c4acb349d2a2a

* 文字の削除
* 改行の削除
* 次の行との連結

### aaf68fe136ae8a5f962567ff7e1ff9be4b2f8eb3

* 行先頭で←を押したら、前の行の末尾にカーソルが移動する。
* 境界条件でのデバッグがたくさん。

### a3a297dfd30495ead88cf379f073714575e58ecd

* Ctrl-Sでファイルセーブ機能の実装。

### 99f134272e51d35ff53dd4ec4220be700921365c

* モード行の実装


ここまでで、エディタの実装見本として、動作するようになった。顔できた感じ。
だいたい2〜3日。

ここからは、アーキテクチャの見直し、UTF-8対応、テストなどがメインの作業となる。

### 6dd59267c66aa8eeb21b6ef91f822d7b4267e131

* 複数のファイルに分割した。
* カーソル移動に関する手続きを、エディタのコマンドループの中からバッファコントローラに移動。

###

* 日本語の表示
* 日本語があるときのカーソル
* 日本語がある時の編集


